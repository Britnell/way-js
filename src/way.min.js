var wayjs=function(){"use strict";const t=Symbol.for("preact-signals");function e(){if(s>1)return void s--;let t,e=!1;for(;void 0!==o;){let n=o;for(o=void 0,r++;void 0!==n;){const o=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&f(n))try{n.c()}catch(n){e||(t=n,e=!0)}n=o}}if(r=0,s--,e)throw t}let n,o;function i(t){const e=n;n=void 0;try{return t()}finally{n=e}}let s=0,r=0,c=0;function l(t){if(void 0===n)return;let e=t.n;return void 0===e||e.t!==n?(e={i:0,S:t,p:n.s,n:void 0,t:n,e:void 0,x:void 0,r:e},void 0!==n.s&&(n.s.n=e),n.s=e,t.n=e,32&n.f&&t.S(e),e):-1===e.i?(e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=n.s,e.n=void 0,n.s.n=e,n.s=e),e):void 0}function u(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=null==e?void 0:e.watched,this.Z=null==e?void 0:e.unwatched,this.name=null==e?void 0:e.name}function a(t,e){return new u(t,e)}function f(t){for(let e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function d(t){for(let e=t.s;void 0!==e;e=e.n){const n=e.S.n;if(void 0!==n&&(e.r=n),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function h(t){let e,n=t.s;for(;void 0!==n;){const t=n.p;-1===n.i?(n.S.U(n),void 0!==t&&(t.n=n.n),void 0!==n.n&&(n.n.p=t)):e=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=t}t.s=e}function p(t,e){u.call(this,void 0),this.x=t,this.s=void 0,this.g=c-1,this.f=4,this.W=null==e?void 0:e.watched,this.Z=null==e?void 0:e.unwatched,this.name=null==e?void 0:e.name}function m(t){const o=t.u;if(t.u=void 0,"function"==typeof o){s++;const i=n;n=void 0;try{o()}catch(e){throw t.f&=-2,t.f|=8,v(t),e}finally{n=i,e()}}}function v(t){for(let e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,m(t)}function y(t){if(n!==this)throw new Error("Out-of-order effect");h(this),n=t,this.f&=-2,8&this.f&&v(this),e()}function b(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==e?void 0:e.name}function g(t,e){const n=new b(t,e);try{n.c()}catch(t){throw n.d(),t}const o=n.d.bind(n);return o[Symbol.dispose]=o,o}u.prototype.brand=t,u.prototype.h=function(){return!0},u.prototype.S=function(t){const e=this.t;e!==t&&void 0===t.e&&(t.x=e,this.t=t,void 0!==e?e.e=t:i(()=>{var t;null==(t=this.W)||t.call(this)}))},u.prototype.U=function(t){if(void 0!==this.t){const e=t.e,n=t.x;void 0!==e&&(e.x=n,t.e=void 0),void 0!==n&&(n.e=e,t.x=void 0),t===this.t&&(this.t=n,void 0===n&&i(()=>{var t;null==(t=this.Z)||t.call(this)}))}},u.prototype.subscribe=function(t){return g(()=>{const e=this.value,o=n;n=void 0;try{t(e)}finally{n=o}},{name:"sub"})},u.prototype.valueOf=function(){return this.value},u.prototype.toString=function(){return this.value+""},u.prototype.toJSON=function(){return this.value},u.prototype.peek=function(){const t=n;n=void 0;try{return this.value}finally{n=t}},Object.defineProperty(u.prototype,"value",{get(){const t=l(this);return void 0!==t&&(t.i=this.i),this.v},set(t){if(t!==this.v){if(r>100)throw new Error("Cycle detected");this.v=t,this.i++,c++,s++;try{for(let t=this.t;void 0!==t;t=t.x)t.t.N()}finally{e()}}}}),p.prototype=new u,p.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===c)return!0;if(this.g=c,this.f|=1,this.i>0&&!f(this))return this.f&=-2,!0;const t=n;try{d(this),n=this;const t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return n=t,h(this),this.f&=-2,!0},p.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(let t=this.s;void 0!==t;t=t.n)t.S.S(t)}u.prototype.S.call(this,t)},p.prototype.U=function(t){if(void 0!==this.t&&(u.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(let t=this.s;void 0!==t;t=t.n)t.S.U(t)}},p.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let t=this.t;void 0!==t;t=t.x)t.t.N()}},Object.defineProperty(p.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const t=l(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),b.prototype.c=function(){const t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;const t=this.x();"function"==typeof t&&(this.u=t)}finally{t()}},b.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,m(this),d(this),s++;const t=n;return n=this,y.bind(this,t)},b.prototype.N=function(){2&this.f||(this.f|=2,this.o=o,o=this)},b.prototype.d=function(){this.f|=8,1&this.f||v(this)},b.prototype.dispose=function(){this.d()};const x={},E={},w={},S=new Set,A={"x-text":(t,e,n)=>{g(()=>{t.textContent=W(e,n)})},"x-show":(t,e,n)=>{g(()=>{const o=W(e,n);t.style.display=o?"":"none";const i=t.nextElementSibling;i?.hasAttribute("x-else")&&(i.style.display=o?"none":"")})},"x-model":(t,e,n)=>{const o=t,i=function(t,e){const n=e.split(".");let o=t;for(const t of n)o=o[t];return o}(n,e);j(i)?(setTimeout(()=>{H(o,i.value)},0),g(()=>{H(o,i.value)}),o.addEventListener("input",()=>{i.value=function(t){return t instanceof HTMLInputElement?"checkbox"===t.type?t.checked:"radio"===t.type?t.checked?t.value:null:"number"===t.type?""===t.value?null:Number(t.value):t.value:t.value}(o)})):console.error(`[x-model] Expression "${e}" does not resolve to a signal. x-model requires a signal.`)},"x-form":function(t,e,n){if(!(t instanceof HTMLFormElement))return void console.error("x-form directive can only be used on form elements.");const o=t,i=e,s=E[i];if(!s)return void console.error(`Form validation schema not found: "${i}"`);o.addEventListener("input",t=>{$(t.target,s)}),o.addEventListener("submit",t=>{const e=function(t,e){const n=new FormData(t);let o=!0;return n.forEach((t,e)=>{t.toString()}),t.querySelectorAll("input, textarea, select").forEach(t=>{const n=t;$(n,e),n.checkValidity()||(o=!1)}),o}(o,s);if(!e)return void t.preventDefault();if(!o.getAttribute("@onsubmit"))return;t.preventDefault();const n=new FormData(o),i={};n.forEach((t,e)=>{i[e]=t.toString()});const r=new CustomEvent("onsubmit",{detail:i,bubbles:!0});o.dispatchEvent(r)})},"x-if":function(t,e,n){if(!(t instanceof HTMLTemplateElement))return void console.error("x-if directive must be used on a <template> element.");const o=document.createElement("div");o.style.display="contents",t.parentNode.insertBefore(o,t);const i=[];i.push({template:t,expression:e});let s=t.nextElementSibling;for(;s;){if(!(s instanceof HTMLTemplateElement&&s.hasAttribute("x-else-if"))){if(s instanceof HTMLTemplateElement&&s.hasAttribute("x-else")){i.push({template:s,expression:null});break}break}i.push({template:s,expression:s.getAttribute("x-else-if")}),s=s.nextElementSibling}let r=null;g(()=>{let t=null;for(const{template:e,expression:o}of i)if(null===o||W(o,n)){t=e;break}if(t!==r){if(o.innerHTML="",t){const e=t.content.cloneNode(!0),i=Array.from(e.children);for(const t of i)t instanceof Element&&T(t,n);o.append(e)}r=t}})},"x-for":function(t,e,n){if(!(t instanceof HTMLTemplateElement))return void console.error("x-for directive must be used on a <template> element.");const o=document.createElement("div");o.style.display="contents",t.parentNode.insertBefore(o,t);const[i,s,r]=function(t){const e=t.match(/^\((\w+),\s*(\w+)\)\s+in\s+(.+)$/);if(e)return[e[1],e[2],e[3].trim()];const n=t.match(/^(\w+)\s+in\s+(.+)$/);if(!n)throw new Error(`Invalid x-for expression: "${t}"`);return[n[1],null,n[2].trim()]}(e);g(()=>{const e=W(r,n),c=j(e)?e.value:e;if(o.innerHTML="",Array.isArray(c))for(let e=0;e<c.length;e++){const r=c[e],l=_(n,i,s,r,e),u=t.content.cloneNode(!0);for(const t of Array.from(u.childNodes))t instanceof Element?T(t,l):t instanceof Text&&N(t,l);o.appendChild(u)}})},"x-load":(t,e,n)=>{t.style.display="block"},"x-temp":(t,e,n)=>{const o=e,i=document.getElementById(o);if(!i)return void console.error(`Template with id "${o}" not found.`);const s=document.createDocumentFragment();for(;t.firstChild;)s.appendChild(t.firstChild);const r=i.content.cloneNode(!0),c=r.querySelector("slot");c&&c.replaceWith(s),t.appendChild(r)}};async function C(t,e){document.dispatchEvent(new CustomEvent("way:init")),await async function(t){const e=Array.from(t).filter(t=>t.includes("-"));if(e.length>0){const t=e.map(t=>customElements.whenDefined(t).catch(()=>null));await Promise.all(t)}}(S),T(t,e)}function T(t=document.body,e={}){!function(t,e={},n){function o(t,e){if(t instanceof Element){const i=["SCRIPT","STYLE"].includes(t.tagName),s="TEMPLATE"===t.tagName&&t.id;if(i||s)return;const r=n(t,e),c=Array.from(t.childNodes);for(const t of c)o(t,r)}else t instanceof Text&&n(t,e)}o(t,e)}(t,{...w,...window.pageprops,...e},(t,e)=>{let n={...e};if(t instanceof Element){n=function(t,e){const n=t.getAttribute("x-comp"),o=t.getAttribute("x-form");let i={};if(n)if(n.includes("{"))try{i=k(W(n,{}))}catch(t){return console.error(`Failed to evaluate x-comp "${n}" as inline object`,t),e}else{const o=n.split(",").map(t=>t.trim());for(const s of o)if(x[s]){const n=D(t),o=M(t,e),r=x[s]({props:o,emit:n,el:t});i={...i,...r}}else console.warn(`Component "${s}" not found in x-comp "${n}"`)}if(o){const e=E[o];if(e?.setup){const n=D(t),o=e.setup({el:t,emit:n});o&&(i={...i,...o})}}return t._data=i,{...e,...t._data}}(t,n);const e=function(t,e){if(!t.tagName.includes("-"))return e;const n=t.tagName.toLowerCase();if(!x[n])return e;const o=M(t,e),i=D(t);return t._data=x[n]({props:o,el:t,emit:i}),{...e,...t._data}}(t,n);e!==n&&(n=e)}return N(t,n),n})}function N(t,e){if(t instanceof Text)return void function(t,e){const n=t.textContent;if(!n?.trim()||!n.includes("{"))return;const o=n.split(/(\{[^{}]*\})/g);g(()=>{t.textContent=o.map(t=>{if(t.startsWith("{")&&t.endsWith("}")){const n=t.slice(1,-1);try{const o=W(n,e);return null==o?t:String(o)}catch(e){return console.error(`Template interpolation error for "${n}":`,e),t}}return t}).join("")})}(t,e);Object.keys(A).forEach(n=>{if(t.hasAttribute(n)){const o=t.getAttribute(n);(o||"x-load"===n)&&A[n](t,o||"",e)}});Array.from(t.attributes).filter(t=>t.name.startsWith("@")||t.name.startsWith(":")).forEach(n=>{const o=n.value;if(o)if(n.name.startsWith("@")){const i=n.name.substring(1);!function(t,e,n,o){const{event:i,modifiers:s}=function(t){const e=t.split(".");return{event:e[0],modifiers:e.slice(1)}}(e),r=t=>t?._data?D(t):t.parentElement?r(t.parentElement):null,c=r(t),l=e=>{for(const n of s){const o=L[n];if(o){if(!0===o(t,e))return}}const i={...o,$event:e,emit:c};W(n,i)},u=s.includes("once")?{once:!0}:{};t.addEventListener(i,l,u)}(t,i,o,e)}else if(n.name.startsWith(":")){const i=n.name.substring(1);!function(t,e,n,o){g(()=>{const i=W(n,o);if("class"===e){if(!i)return;if("string"==typeof i)t.className=i;else if(Array.isArray(i))t.className=i.join(" ");else if("object"==typeof i){const e=Object.entries(i).filter(([t,e])=>e).map(([t])=>t).join(" ");t.className=e}}else"style"===e?"string"==typeof i?t.style.cssText=i:"object"==typeof i&&Object.entries(i).forEach(([e,n])=>{t.style.setProperty(e,String(n))}):!1===i||null==i?t.removeAttribute(e):t.setAttribute(e,String(i))})}(t,i,o,e)}})}const L={prevent:(t,e)=>{e.preventDefault()},stop:(t,e)=>{e.stopPropagation()},outside:(t,e)=>!e.target||(!!t.contains(e.target)||void 0),self:(t,e)=>{if(e.target!==t)return!0}};function j(t){return!(!t||"object"!=typeof t||"function"!=typeof t.peek||!("value"in t))}function k(t){if("object"!=typeof t||null===t||j(t))return t;const e={};return Object.keys(t).forEach(n=>{const o=t[n];j(o)?e[n]=o:"function"==typeof o?e[n]=o.bind(e):"object"!=typeof o||null===o||Array.isArray(o)?e[n]=a(o):e[n]=k(o)}),e}function M(t,e){const n=t.getAttribute("x-props");if(!n)return{};try{return W(n,e)}catch(t){return console.error("Error parsing props:",t),{}}}function $(t,e){const n=t.name;if(!n)return;const{fields:o}=e;if(!o||!o[n]){t.setCustomValidity("");const e=t.getAttribute("aria-describedby");if(e){const t=document.getElementById(e);t&&(t.textContent="")}return}const i=function(t,e,n){const o=t["~run"]({value:e},function(t){return{lang:t?.lang??void 0,message:t?.message,abortEarly:t?.abortEarly??void 0,abortPipeEarly:t?.abortPipeEarly??void 0}}(n));return{typed:o.typed,success:!o.issues,output:o.value,issues:o.issues}}(o[n],t.value),s=t.getAttribute("aria-describedby");let r=null;if(s&&(r=document.getElementById(s)),i.success)t.setCustomValidity("");else{const e=i.issues?.[0]?.message||"Invalid value";t.setCustomValidity(e)}r&&(r.textContent=t.validationMessage)}const O={comp:function(t,e){x[t]=e||(({props:t})=>t);const n=document.getElementById(t);t.includes("-")&&(n?(!function(t,e){class n extends P{constructor(){super(e)}}customElements.define(t,n)}(t,n),S.add(t)):console.error(`Web component "${t}" has a hyphen in its name but no matching template found. The component will not be registered.`))},render:C,form:function(t,e,n){E[t]={fields:e,setup:n}},signal:a,effect:g,computed:function(t,e){return new p(t,e)},store:function(t,e){w[t]=e()}};function W(t,e){try{const n=new Function("data",`with(data) { return (${t}) }`)(e);return j(n)?n.value:n}catch(t){return null}}function H(t,e){if(t instanceof HTMLInputElement){if("checkbox"===t.type)return void(t.checked=Boolean(e));if("radio"===t.type)return void(t.checked=t.value===String(e))}t.value=String(e??"")}"undefined"!=typeof window&&(window.way=O),document.addEventListener("DOMContentLoaded",()=>{C(document.body,window.pageprops)});class P extends HTMLElement{constructor(t){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=t}connectedCallback(){const t={};for(;this.firstChild;){const e=this.firstChild,n=e instanceof HTMLElement&&e.getAttribute("slot")||"default";t[n]||(t[n]=document.createDocumentFragment()),t[n].appendChild(e)}const e=this.template.content.cloneNode(!0),n=Array.from(e.querySelectorAll("slot"));for(const e of n){const n=t[e.getAttribute("name")||"default"];n&&e.replaceWith(n)}this.appendChild(e),this._data?.onMounted&&this._data.onMounted()}disconnectedCallback(){this._data?.onUnmounted&&this._data.onUnmounted()}}function _(t,e,n,o,i){const s={...t,[e]:o,$index:i};return n&&(s[n]=i,s.index=i),s}function D(t){return(e,n)=>{t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0}))}}return O}();
